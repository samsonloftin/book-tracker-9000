(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,o){e.exports="data:image/jpeg;base64,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u07ULFpY04+SeIZZAcZ5HHPccV6Tpek6fo1qbPTY/LjLM5GSxLMckksSTk+prIfwX4YfTo9Je1Bt4pfPRCzYVzk5HOccnjp7UAcTd6j4ig0jSbK8vJxe3geWVLeJWmYY3BV3YRAmQCT/AI1l2XinXrjSbVbqU+bFrcdkzOqb2j64YLlQ3OCV9Oteraz4c0jXzE2pxlmgJKMrsjLu4YZQg4OOaqW/g3w1aQJa21qEjjuFulUM+BMgwG+96Dp0PcUAeaW2pXGn2OrJZ3DW8txrcsamOPzZGBCkrGp43EDqeBWPq+s6veeFPEejao0riz+zGMzhBKBIwJD+WSvbjvzzXslx4P8AD11bS2ssHyzXBumIdwfOPBcENlT9CB7VBH4F8KxWlxZJa/u7sIJhvcl9h3Lk7s5z36nvQBzMd54g0PxBpMN5qH2+LVd6vGUVQhVQwaPaM7frnj36cRouuarZ+GdD0PTPOT7Wbpna3VGlIjkb5UDkL3yT1A6V7Hpfg7w5o18dR0+2CTYKqxZm2g9QoYkKPpj06U2XwX4am0qLRXth9ngYvEAzbkZiWJV87hkn1oAoeCNS1q9gurbWg5a3l2xvKEWRlIzh1QkBh/hXcVmaTo+m6HafYdLiEUeSxGSSWPUkkkkn1JrToAKKKKAP/9f+5CiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9D+5CiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9H+5CiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9L+5CiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9P+5CiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9k="},23:function(e,o,t){e.exports=t(38)},28:function(e,o,t){},30:function(e,o,t){},38:function(e,o,t){"use strict";t.r(o);var a=t(0),A=t.n(a),n=t(18),r=t.n(n),i=(t(28),t(2)),c=t(3),s=t(10),l=t(4),k=t(11),u=(t(30),t(14)),K="https://reactnd-books-api.udacity.com",m=localStorage.token;m||(m=localStorage.token=Math.random().toString(36).substr(-8));var g={Accept:"application/json",Authorization:m},h=function(){return fetch("".concat(K,"/books"),{headers:g}).then(function(e){return e.json()}).then(function(e){return e.books})},p=function(e,o){return fetch("".concat(K,"/books/").concat(e.id),{method:"PUT",headers:Object(u.a)({},g,{"Content-Type":"application/json"}),body:JSON.stringify({shelf:o})}).then(function(e){return e.json()})},b=function(e){return fetch("".concat(K,"/search"),{method:"POST",headers:Object(u.a)({},g,{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then(function(e){return e.json()}).then(function(e){return e.books})},E=t(8),d=t(5),Q=t(19),B=t.n(Q),C=function(e){function o(e){var t;return Object(i.a)(this,o),(t=Object(s.a)(this,Object(l.a)(o).call(this,e))).markBook=function(e){t.props.mark(t.props.book,e.target.value),t.setState({status:e.target.value})},t.placeholder=function(){return void 0===t.props.book.imageLinks?"url("+B.a+")":"url("+t.props.book.imageLinks.thumbnail+")"},t.state={status:t.props.book.shelf},t}return Object(k.a)(o,e),Object(c.a)(o,[{key:"render",value:function(){var e=this.placeholder();return A.a.createElement("div",{className:"book"},A.a.createElement("div",{className:"book-top"},A.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundSize:"cover",backgroundPosition:"center",backgroundImage:e}}),A.a.createElement("div",{className:"book-shelf-changer"},A.a.createElement("select",{onChange:this.markBook,value:this.state.status},A.a.createElement("option",{value:"move",disabled:!0},"Move to..."),A.a.createElement("option",{value:"currentlyReading"},"Reading"),A.a.createElement("option",{value:"wantToRead"},"Will Read"),A.a.createElement("option",{value:"read"},"Read"),A.a.createElement("option",{value:"none"},"None")))),A.a.createElement("div",{className:"book-title"},this.props.book.title),A.a.createElement("div",{className:"book-authors"},this.props.book.authors))}}]),o}(a.Component),f=function(e){function o(){return Object(i.a)(this,o),Object(s.a)(this,Object(l.a)(o).apply(this,arguments))}return Object(k.a)(o,e),Object(c.a)(o,[{key:"render",value:function(){var e=this;return A.a.createElement("div",{className:"bookshelf"},A.a.createElement("h2",{className:"bookshelf-title"},this.props.title),A.a.createElement("div",{className:"bookshelf-books"},A.a.createElement("ol",{className:"books-grid"},this.props.books.map(function(o){return A.a.createElement("li",{key:o.id},A.a.createElement(C,{book:o,mark:e.props.mark}))}))))}}]),o}(a.Component),v=t(20),j=function(e){function o(){var e,t;Object(i.a)(this,o);for(var a=arguments.length,A=new Array(a),n=0;n<a;n++)A[n]=arguments[n];return(t=Object(s.a)(this,(e=Object(l.a)(o)).call.apply(e,[this].concat(A)))).query=function(e){t.props.search(e.trim())},t.clearQuery=function(e){t.props.search("")},t}return Object(k.a)(o,e),Object(c.a)(o,[{key:"render",value:function(){var e=this;return A.a.createElement("div",{className:"search-books"},A.a.createElement("div",{className:"search-books-bar"},A.a.createElement(d.b,{to:"/",className:"close-search",onClick:function(o){return e.clearQuery(o.target.value)}},"Close"),A.a.createElement("div",{className:"search-books-input-wrapper"},A.a.createElement(v.DebounceInput,{type:"text",debounceTimeout:300,placeholder:"Search by title or author",onChange:function(o){return e.query(o.target.value)}}))),A.a.createElement("div",{className:"search-books-results"},A.a.createElement("ol",{className:"books-grid"},void 0!==this.props.books?this.props.books.map(function(o){return void 0!==o?A.a.createElement("li",{key:o.id},A.a.createElement(C,{book:o,mark:e.props.mark})):A.a.createElement("li",null,A.a.createElement("div",{className:"book-title"},"No books to display"))}):A.a.createElement("li",null,A.a.createElement("div",{className:"book-title"},"No books to display")))))}}]),o}(a.Component),O=function(e){function o(e){var t;return Object(i.a)(this,o),(t=Object(s.a)(this,Object(l.a)(o).call(this,e))).getAllBooks=function(){h().then(function(e){t.setState({books:e})})},t.sortBooks=function(e){return t.state.books.filter(function(o){return o.shelf===e})},t.markBook=function(e,o){p(e,o).then(function(){e.shelf=o,t.setState(function(o){return{books:o.books.filter(function(o){return o.id!==e.id}).concat([e])}})})},t.searchBooks=function(e){if(!e)return t.setState({searchedBooks:[]});b(e).then(function(e){e.length&&t.setState(function(o){return{searchedBooks:e.map(function(e){var t=o.books.find(function(o){return e.id===o.id});return e.shelf=t?t.shelf:"none",e})}})})},t.state={books:[],searchedBooks:[]},t}return Object(k.a)(o,e),Object(c.a)(o,[{key:"componentDidMount",value:function(){this.getAllBooks()}},{key:"render",value:function(){var e=this;return A.a.createElement("div",{className:"app"},A.a.createElement(E.a,{exact:!0,path:"/",render:function(){return A.a.createElement("div",{className:"list-books"},A.a.createElement("div",{className:"list-books-title"},A.a.createElement("h1",null,"Book Tracker")),A.a.createElement("div",{className:"list-books-content"},A.a.createElement("div",null,A.a.createElement(f,{title:"Reading",mark:e.markBook,books:e.sortBooks("currentlyReading")}),A.a.createElement(f,{title:"Will Read",mark:e.markBook,books:e.sortBooks("wantToRead")}),A.a.createElement(f,{title:"Read",mark:e.markBook,books:e.sortBooks("read")})),A.a.createElement(d.b,{to:"/search",className:"open-search"},"Open")))}}),A.a.createElement(E.a,{exact:!0,path:"/search",render:function(){return A.a.createElement(j,{books:e.state.searchedBooks,search:e.searchBooks,mark:e.markBook})}}))}}]),o}(a.Component);r.a.render(A.a.createElement(d.a,null,A.a.createElement(O,null)),document.getElementById("root"))}},[[23,2,1]]]);
//# sourceMappingURL=main.a5b192ba.chunk.js.map